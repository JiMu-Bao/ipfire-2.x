commit 228d0e74ec47c9954d3a0e1da2e1c0fc6c1b518f
Author: Michael Tremer <michael.tremer@ipfire.org>
Date:   Wed Jun 3 16:15:24 2020 +0000

    location-query: Require at least one flag
    
    Signed-off-by: Michael Tremer <michael.tremer@ipfire.org>

diff --git a/src/python/location-query.in b/src/python/location-query.in
index 5f05b5c..dfdff8c 100644
--- a/src/python/location-query.in
+++ b/src/python/location-query.in
@@ -246,7 +246,13 @@ class CLI(object):
 				args.family = 0
 
 		# Call function
-		ret = args.func(db, args)
+		try:
+			ret = args.func(db, args)
+
+		# Catch invalid inputs
+		except ValueError as e:
+			sys.stderr.write("%s\n" % e)
+			ret = 2
 
 		# Return with exit code
 		if ret:
@@ -451,6 +457,9 @@ class CLI(object):
 		if ns.anycast:
 			flags |= location.NETWORK_FLAG_ANYCAST
 
+		if not flags:
+			raise ValueError(_("You must at least pass one flag"))
+
 		with self.__get_output_formatter(ns) as f:
 			for n in db.search_networks(flags=flags, family=ns.family):
 				f.network(n)
